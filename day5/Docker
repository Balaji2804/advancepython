"# Use an AWS Lambda base image for Python
FROM public.ecr.aws/lambda/python:3.9 AS build
# Install Node.js and npm
RUN curl -sL https://rpm.nodesource.com/setup_14.x | bash - && \
    yum install -y nodejs && \
    yum clean all && \
    rm -rf /var/cache/yum
# Set the working directory in the container
WORKDIR /var/task
# Copy application code
COPY . .
# Install required Node.js packages and build the React application
WORKDIR /var/task/frontend
RUN npm install && npm run build
# Use a smaller runtime image
FROM public.ecr.aws/lambda/python:3.9
# Copy the built application from the build stage
COPY --from=build /var/task /var/task
# Set execute permissions for the script
RUN chmod +x /var/task/backend/run.py && pwd
WORKDIR /var/task/backend
RUN pip install --no-cache-dir -r requirements.txt
# Command to run Lambda function locally using mangum
CMD ["backend.run.handler"]"
In the above Dockerfile below two lines is getting more time for execution "WORKDIR /var/task/frontend
RUN npm install && npm run build". Frontend is taking more time since it's downloading node modules. Is there a way to minimize the time for building Dockerfile.
